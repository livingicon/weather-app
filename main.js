(()=>{const e=(()=>{let e={};return{getWeatherData:async function(n,i){i=document.getElementById("toggleSwitch").checked?"imperial":"metric";try{const c=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${n}&units=${i}&APPID=f59db8f3e672caf010ea9eef7f1433a6`,{mode:"cors"});if(!c.ok)throw new Error(`${n} not found.\n      Search must be in the form of "City", "City, State" or "City, Country".`);const o=await c.json();e={city:(r=o).name,currentWeather:r.weather[0].description,icon:r.weather[0].icon,temperature:r.main.temp,feelsLike:r.main.feels_like,humidity:r.main.humidity,windSpeed:r.wind.speed,windDirection:r.wind.deg},t.displayResult(e)}catch(e){console.error(e),alert(e)}var r}}})(),t=(()=>{let e="";return{displayResult:function(t){const n=document.getElementById("toggleSwitch"),i=document.getElementById("displayCard");let r="",c="",o=t.windDirection,a=t.currentWeather;var d;n.checked?(r="°F",c="mph"):(r="°C",c="kph"),e=(d=o)>337.5?"N":d>292.5?"NW":d>247.5?"W":d>202.5?"SW":d>157.5?"S":d>122.5?"SE":d>67.5?"E":d>22.5?"NE":"N",function(e){const t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);weatherDescription=t.join(" ")}(a);const m=document.getElementById("cityName"),l=document.getElementById("currentWeather"),u=document.getElementById("currentTemp"),s=document.getElementById("feelsLike"),h=document.getElementById("humidity"),y=document.getElementById("wind");m.textContent=`${t.city}`,l.textContent=`Weather: ${weatherDescription}`,s.textContent=`Feels Like: ${t.feelsLike} ${r}`,h.textContent=`Humidity: ${t.humidity}%`,u.textContent=`Temperature: ${t.temperature} ${r}`,y.textContent=`Wind: ${e} ${t.windSpeed} ${c}`,i.style.display="grid"}}})();(()=>{const t=document.getElementById("search"),n=document.getElementById("toggleSwitch");let i="imperial";t.addEventListener("keydown",(n=>{"Enter"===n.code&&(n.preventDefault(),e.getWeatherData(t.value),t.value="")})),n.addEventListener("change",(t=>{const n=document.getElementById("cityName").textContent;t.preventDefault(),""!==n&&function(){const t=document.getElementById("toggleSwitch"),n=document.getElementById("cityName").textContent;t.checked&&(i="metric",e.getWeatherData(n,i)),t.checked||(i="imperial",e.getWeatherData(n,i))}()}))})()})();